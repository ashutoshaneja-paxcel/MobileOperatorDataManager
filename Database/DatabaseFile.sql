/*
SQLyog Community v11.4 (64 bit)
MySQL - 5.5.27 : Database - OPERATOR_DB
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`OPERATOR_DB` /*!40100 DEFAULT CHARACTER SET latin1 */;

USE `OPERATOR_DB`;

/*Table structure for table `message_detail` */

DROP TABLE IF EXISTS `message_detail`;

CREATE TABLE `message_detail` (
  `MESSAGE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `FROM_NUMBER` bigint(10) NOT NULL,
  `TO_NUMBER` bigint(10) NOT NULL,
  `SENT_TIME` varchar(10) NOT NULL,
  `RECEIVED_TIME` varchar(10) NOT NULL,
  `STATUS` char(1) NOT NULL,
  `MESSAGE_CONTENT` varchar(50) NOT NULL,
  PRIMARY KEY (`MESSAGE_ID`),
  KEY `FROM_NUMBER` (`FROM_NUMBER`),
  KEY `TO_NUMBER` (`TO_NUMBER`),
  CONSTRAINT `message_detail_ibfk_1` FOREIGN KEY (`FROM_NUMBER`) REFERENCES `number_detail` (`NUMBER`),
  CONSTRAINT `message_detail_ibfk_2` FOREIGN KEY (`TO_NUMBER`) REFERENCES `number_detail` (`NUMBER`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;

/*Data for the table `message_detail` */

insert  into `message_detail`(`MESSAGE_ID`,`FROM_NUMBER`,`TO_NUMBER`,`SENT_TIME`,`RECEIVED_TIME`,`STATUS`,`MESSAGE_CONTENT`) values (1,9814129697,9814104199,'15:34:21','13:36:24','F','a1GD8eLJTT'),(2,9917082537,9814430424,'09:45:07','02:37:47','F','iMaGecNP2I'),(3,9480425558,9872786179,'09:14:13','11:21:23','S','Q5z9QVJfMg'),(4,9480623288,9480610124,'14:53:27','12:30:27','F','TewtAPip2x'),(5,9814129697,9917594864,'07:51:30','05:23:47','S','oaBR8iNEiu'),(6,9872987940,9814298203,'15:55:29','01:39:50','S','dnY1fN53iE'),(7,9917362934,9917033013,'19:54:30','01:14:40','S','ELkHb7CYYv'),(8,9814487086,9814430424,'10:57:20','04:26:45','F','iOSiFT7jJX'),(9,9872025299,9917399053,'03:56:37','06:18:41','F','eGOKq2qyUA'),(10,9917213839,9917226381,'04:33:54','19:34:21','S','GPvye3YRJh'),(11,9917558946,9480622714,'14:32:51','05:36:11','F','omnDTH5r4p'),(12,9917537898,9814363312,'11:39:59','13:53:28','S','U7Rk6N5xjs'),(13,9480117174,9872024137,'10:58:31','22:10:04','F','1dEQ1GY4nQ'),(14,9917333051,9872529626,'19:53:45','22:28:36','F','uRma8gI1Er'),(15,9917213839,9917226381,'01:11:14','09:13:35','S','earTaQDpUm'),(16,9872597908,9480120261,'08:33:25','14:32:17','F','I9jTShxHxs'),(17,9814363312,9872317017,'16:09:22','18:13:53','S','FTkEuPg38F'),(18,9480872823,9872123888,'14:11:38','02:43:49','S','8mWxSrKT8B'),(19,9872772981,9480041058,'18:32:41','12:29:03','S','YYGVktuAtX'),(20,9917537898,9872317017,'15:46:43','03:08:30','F','UUsPZEJyy9');

/*Table structure for table `number_detail` */

DROP TABLE IF EXISTS `number_detail`;

CREATE TABLE `number_detail` (
  `NUMBER` bigint(10) NOT NULL,
  `OPERATOR_ID` int(11) NOT NULL,
  `REGION_ID` int(11) NOT NULL,
  PRIMARY KEY (`NUMBER`),
  UNIQUE KEY `NUMBER` (`NUMBER`),
  KEY `OPERATOR_ID` (`OPERATOR_ID`),
  KEY `REGION_ID` (`REGION_ID`),
  CONSTRAINT `number_detail_ibfk_1` FOREIGN KEY (`OPERATOR_ID`) REFERENCES `operator` (`OPERATOR_ID`),
  CONSTRAINT `number_detail_ibfk_2` FOREIGN KEY (`REGION_ID`) REFERENCES `region` (`REGION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `number_detail` */

insert  into `number_detail`(`NUMBER`,`OPERATOR_ID`,`REGION_ID`) values (9480041058,2,2),(9480117174,2,1),(9480120261,2,1),(9480121100,2,1),(9480425558,2,1),(9480492244,2,3),(9480610124,2,1),(9480622714,2,1),(9480623288,2,1),(9480872823,2,3),(9814104199,3,4),(9814129697,3,1),(9814264477,3,2),(9814298203,3,3),(9814363312,3,2),(9814378651,3,3),(9814430424,3,2),(9814487086,3,3),(9814537747,3,2),(9814731766,3,2),(9872024137,1,1),(9872025299,1,1),(9872123888,1,1),(9872317017,1,1),(9872438004,1,2),(9872529626,1,1),(9872597908,1,3),(9872772981,1,3),(9872786179,1,3),(9872987940,1,3),(9917033013,4,2),(9917082537,4,3),(9917213839,4,1),(9917226381,4,1),(9917333051,4,2),(9917362934,4,2),(9917399053,4,3),(9917537898,4,2),(9917558946,4,2),(9917594864,4,3);

/*Table structure for table `operator` */

DROP TABLE IF EXISTS `operator`;

CREATE TABLE `operator` (
  `OPERATOR_ID` int(11) NOT NULL AUTO_INCREMENT,
  `OPERATOR_NAME` varchar(10) NOT NULL,
  PRIMARY KEY (`OPERATOR_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

/*Data for the table `operator` */

insert  into `operator`(`OPERATOR_ID`,`OPERATOR_NAME`) values (1,'Airtel'),(2,'BSNL'),(3,'Idea'),(4,'Jio');

/*Table structure for table `operator_range` */

DROP TABLE IF EXISTS `operator_range`;

CREATE TABLE `operator_range` (
  `OPERATOR_RANGE` varchar(50) NOT NULL,
  `OPERATOR_ID` int(11) NOT NULL,
  `REGION_ID` int(11) NOT NULL,
  KEY `OPERATOR_ID` (`OPERATOR_ID`),
  KEY `REGION_ID` (`REGION_ID`),
  CONSTRAINT `operator_range_ibfk_1` FOREIGN KEY (`OPERATOR_ID`) REFERENCES `operator` (`OPERATOR_ID`),
  CONSTRAINT `operator_range_ibfk_2` FOREIGN KEY (`REGION_ID`) REFERENCES `region` (`REGION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `operator_range` */

insert  into `operator_range`(`OPERATOR_RANGE`,`OPERATOR_ID`,`REGION_ID`) values ('9872010*** to 9872929***',1,1),('9872030*** to 9872969***',1,2),('9872070*** to 9872999***',1,3),('9480010*** to 9480929***',2,1),('9480030*** to 9480969***',2,2),('9480070*** to 9480999***',2,3),('9814010*** to 9814929***',3,1),('9814030*** to 9814969***',3,2),('9814070*** to 9814999***',3,3),('9917010*** to 9917929***',4,1),('9917030*** to 9917969***',4,2),('9917070*** to 9917999***',4,3);

/*Table structure for table `region` */

DROP TABLE IF EXISTS `region`;

CREATE TABLE `region` (
  `REGION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `REGION_NAME` varchar(10) NOT NULL,
  PRIMARY KEY (`REGION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

/*Data for the table `region` */

insert  into `region`(`REGION_ID`,`REGION_NAME`) values (1,'J&K'),(2,'Punjab'),(3,'UP'),(4,'Delhi');

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
